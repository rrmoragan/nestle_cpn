<?xml version="1.0" encoding="UTF-8"?>
<layout version="0.1.0">
    <checkout_onepage_index>
        <reference name="head">
            <action method="addExternalItem">
                <type>external_js</type>
                <name>https://openpay.s3.amazonaws.com/openpay.v1.min.js</name>
                <params/>
            </action>
            <action method="addExternalItem">
                <type>external_js</type>
                <name>https://openpay.s3.amazonaws.com/openpay-data.v1.min.js</name>
                <params/>
            </action>
            <action method="addExternalItem">
                <type>external_css</type>
                <name>https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css</name>
                <params/>
            </action>
            <action method="addExternalItem">
                <type>external_js</type>
                <name>https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js</name>
                <params/>
            </action>
            <block type="core/text" name="openpay_charges.carnet.validation">
                <action method="setText">
                    <text>
                        <![CDATA[<script type="text/javascript">
                            Validation.creditCartTypes.set('CN', [new RegExp('^[0-9]{16}$'), new RegExp('^[0-9]{3}$'), true]);
                        </script>]]>
                    </text>
                </action>
            </block>
        </reference>
        <reference name="before_body_end">
            <block type="core/template" name="token" template="openpay/form/token.phtml" />
        </reference>
    </checkout_onepage_index>
    <opc_index_index translate="label">
        <reference name="head">
            <action method="addExternalItem">
                <type>external_js</type>
                <name>https://openpay.s3.amazonaws.com/openpay.v1.min.js</name>
                <params/>
            </action>
            <action method="addExternalItem">
                <type>external_js</type>
                <name>https://openpay.s3.amazonaws.com/openpay-data.v1.min.js</name>
                <params/>
            </action>
            <action method="addExternalItem">
                <type>external_css</type>
                <name>https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css</name>
                <params/>
            </action>
            <action method="addExternalItem">
                <type>external_js</type>
                <name>https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js</name>
                <params/>
            </action>
            <block type="core/text" name="openpay_charges.carnet.validation">
                <action method="setText">
                    <text>
                        <![CDATA[<script type="text/javascript">
                            Validation.creditCartTypes.set('CN', [new RegExp('^[0-9]{16}$'), new RegExp('^[0-9]{3}$'), true]);
                        </script>]]>
                    </text>
                </action>
            </block>
        </reference>
        <reference name="before_body_end">
            <block type="core/template" name="token" template="openpay/form/token.phtml" />
        </reference>
    </opc_index_index>
    <onestepcheckout_index_index>
        <reference name="head">
            <action method="addExternalItem">
                <type>external_js</type>
                <name>https://openpay.s3.amazonaws.com/openpay.v1.min.js</name>
                <params/>
            </action>
            <action method="addExternalItem">
                <type>external_js</type>
                <name>https://openpay.s3.amazonaws.com/openpay-data.v1.min.js</name>
                <params/>
            </action>
            <action method="addExternalItem">
                <type>external_css</type>
                <name>https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css</name>
                <params/>
            </action>
            <action method="addExternalItem">
                <type>external_js</type>
                <name>https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js</name>
                <params/>
            </action>
            <block type="core/text" name="openpay_charges.carnet.validation">
                <action method="setText">
                    <text>
                        <![CDATA[<script type="text/javascript">
                            Validation.creditCartTypes.set('CN', [new RegExp('^[0-9]{16}$'), new RegExp('^[0-9]{3}$'), true]);
                        </script>]]>
                    </text>
                </action>
            </block>
        </reference>
        <reference name="before_body_end">
            <block type="core/template" name="token" template="openpay/form/token.phtml" />
        </reference>
    </onestepcheckout_index_index>
</layout>